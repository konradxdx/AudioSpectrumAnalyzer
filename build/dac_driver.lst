ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 23, 1
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 2
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"dac_driver.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/Src/dac_driver.c"
  18              		.section	.text.dac_write,"ax",%progbits
  19              		.align	1
  20              		.p2align 2,,3
  21              		.global	dac_write
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	dac_write:
  27              	.LVL0:
  28              	.LFB216:
   1:Core/Src/dac_driver.c **** /*
   2:Core/Src/dac_driver.c ****  * dac_driver.c
   3:Core/Src/dac_driver.c ****  *
   4:Core/Src/dac_driver.c ****  *  Created on: 17 gru 2022
   5:Core/Src/dac_driver.c ****  *      Author: Konrad
   6:Core/Src/dac_driver.c ****  */
   7:Core/Src/dac_driver.c **** 
   8:Core/Src/dac_driver.c **** #include "dac_driver.h"
   9:Core/Src/dac_driver.c **** #include "spi.h"
  10:Core/Src/dac_driver.c **** 
  11:Core/Src/dac_driver.c **** 
  12:Core/Src/dac_driver.c **** void dac_write(uint8_t channel, uint8_t value, uint8_t dac){
  29              		.loc 1 12 60 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 12 60 is_stmt 0 view .LVU1
  34 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  35              		.cfi_def_cfa_offset 20
  36              		.cfi_offset 4, -20
  37              		.cfi_offset 5, -16
  38              		.cfi_offset 6, -12
  39              		.cfi_offset 7, -8
  40              		.cfi_offset 14, -4
  41 0002 4FF00007 		mov	r7, #0	@ movhi
  42 0006 61F30707 		bfi	r7, r1, #0, #8
  43              	.LVL1:
  44              		.loc 1 12 60 view .LVU2
  45 000a 83B0     		sub	sp, sp, #12
  46              		.cfi_def_cfa_offset 32
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 2


  47              		.loc 1 12 60 view .LVU3
  48 000c 0D46     		mov	r5, r1
  49 000e 1446     		mov	r4, r2
  50 0010 0646     		mov	r6, r0
  13:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT0_GPIO_Port, LAT0_Pin, GPIO_PIN_RESET);
  51              		.loc 1 13 2 view .LVU4
  52 0012 0022     		movs	r2, #0
  53              	.LVL2:
  54              		.loc 1 13 2 view .LVU5
  55 0014 6148     		ldr	r0, .L47
  56              	.LVL3:
  57              		.loc 1 13 2 view .LVU6
  58 0016 61F30F27 		bfi	r7, r1, #8, #8
  59              		.loc 1 13 2 is_stmt 1 view .LVU7
  60 001a 1021     		movs	r1, #16
  61 001c FFF7FEFF 		bl	HAL_GPIO_WritePin
  62              	.LVL4:
  14:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT1_GPIO_Port, LAT1_Pin, GPIO_PIN_RESET);
  63              		.loc 1 14 2 view .LVU8
  64 0020 5E48     		ldr	r0, .L47
  65 0022 0022     		movs	r2, #0
  66 0024 2021     		movs	r1, #32
  67 0026 FFF7FEFF 		bl	HAL_GPIO_WritePin
  68              	.LVL5:
  15:Core/Src/dac_driver.c **** 	
  16:Core/Src/dac_driver.c **** 	if(dac == 0)
  69              		.loc 1 16 2 view .LVU9
  70 002a 032C     		cmp	r4, #3
  71 002c 26D8     		bhi	.L1
  72 002e DFE804F0 		tbb	[pc, r4]
  73              	.L4:
  74 0032 69       		.byte	(.L7-.L4)/2
  75 0033 53       		.byte	(.L6-.L4)/2
  76 0034 3D       		.byte	(.L5-.L4)/2
  77 0035 27       		.byte	(.L3-.L4)/2
  78              		.p2align 1
  79              	.L9:
  17:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS0_GPIO_Port, CS0_Pin, GPIO_PIN_RESET);
  18:Core/Src/dac_driver.c **** 	else if(dac == 1)
  19:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS1_GPIO_Port, CS1_Pin, GPIO_PIN_RESET);
  20:Core/Src/dac_driver.c **** 	else if(dac == 2)
  21:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS2_GPIO_Port, CS2_Pin, GPIO_PIN_RESET);
  22:Core/Src/dac_driver.c **** 	else if(dac == 3)
  23:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS3_GPIO_Port, CS3_Pin, GPIO_PIN_RESET);
  24:Core/Src/dac_driver.c **** 	else
  25:Core/Src/dac_driver.c **** 		return;
  26:Core/Src/dac_driver.c **** 		
  27:Core/Src/dac_driver.c **** 	uint8_t toSend[3] = {0,0,0};
  28:Core/Src/dac_driver.c **** 
  29:Core/Src/dac_driver.c **** 	switch(channel){
  30:Core/Src/dac_driver.c **** 		case 0:
  31:Core/Src/dac_driver.c **** 		toSend[0]=0b00000000;
  32:Core/Src/dac_driver.c **** 		break;
  33:Core/Src/dac_driver.c **** 		case 1:
  34:Core/Src/dac_driver.c **** 		toSend[0]=0b00010000;
  35:Core/Src/dac_driver.c **** 		break;
  36:Core/Src/dac_driver.c **** 		case 2:
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 3


  37:Core/Src/dac_driver.c **** 		toSend[0]=0b00011000;
  38:Core/Src/dac_driver.c **** 		break;
  39:Core/Src/dac_driver.c **** 		case 3:
  40:Core/Src/dac_driver.c **** 		toSend[0]=0b00001000;
  80              		.loc 1 40 3 view .LVU10
  41:Core/Src/dac_driver.c **** 		break;
  81              		.loc 1 41 3 view .LVU11
  82 0036 0822     		movs	r2, #8
  83              	.L14:
  40:Core/Src/dac_driver.c **** 		break;
  84              		.loc 1 40 12 is_stmt 0 view .LVU12
  85 0038 8DF80420 		strb	r2, [sp, #4]
  42:Core/Src/dac_driver.c **** 		default:
  43:Core/Src/dac_driver.c **** 		return 0;
  44:Core/Src/dac_driver.c **** 	}
  45:Core/Src/dac_driver.c **** 
  46:Core/Src/dac_driver.c **** 	toSend[1]=value;
  86              		.loc 1 46 2 is_stmt 1 view .LVU13
  47:Core/Src/dac_driver.c **** 	toSend[2]=value;
  48:Core/Src/dac_driver.c **** 
  49:Core/Src/dac_driver.c **** 	HAL_SPI_Transmit(&hspi1, toSend, 3, 100);
  87              		.loc 1 49 2 is_stmt 0 view .LVU14
  88 003c 5848     		ldr	r0, .L47+4
  46:Core/Src/dac_driver.c **** 	toSend[2]=value;
  89              		.loc 1 46 11 view .LVU15
  90 003e 8DF80550 		strb	r5, [sp, #5]
  47:Core/Src/dac_driver.c **** 	toSend[2]=value;
  91              		.loc 1 47 2 is_stmt 1 view .LVU16
  92              		.loc 1 49 2 is_stmt 0 view .LVU17
  93 0042 6423     		movs	r3, #100
  94 0044 0322     		movs	r2, #3
  47:Core/Src/dac_driver.c **** 	toSend[2]=value;
  95              		.loc 1 47 11 view .LVU18
  96 0046 8DF80650 		strb	r5, [sp, #6]
  97              		.loc 1 49 2 is_stmt 1 view .LVU19
  98 004a FFF7FEFF 		bl	HAL_SPI_Transmit
  99              	.LVL6:
  50:Core/Src/dac_driver.c **** 
  51:Core/Src/dac_driver.c **** 	if(dac == 0)
 100              		.loc 1 51 2 view .LVU20
 101              		.loc 1 51 4 is_stmt 0 view .LVU21
 102 004e 002C     		cmp	r4, #0
 103 0050 7BD0     		beq	.L27
  52:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS0_GPIO_Port, CS0_Pin, GPIO_PIN_SET);
  53:Core/Src/dac_driver.c **** 	else if(dac == 1)
 104              		.loc 1 53 7 is_stmt 1 view .LVU22
 105              		.loc 1 53 9 is_stmt 0 view .LVU23
 106 0052 012C     		cmp	r4, #1
 107 0054 00F09480 		beq	.L25
  54:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS1_GPIO_Port, CS1_Pin, GPIO_PIN_SET);
  55:Core/Src/dac_driver.c **** 	else if(dac == 2)
 108              		.loc 1 55 7 is_stmt 1 view .LVU24
 109              		.loc 1 55 9 is_stmt 0 view .LVU25
 110 0058 022C     		cmp	r4, #2
 111 005a 00F08480 		beq	.L26
 112              	.L24:
  56:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS2_GPIO_Port, CS2_Pin, GPIO_PIN_SET);
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 4


  57:Core/Src/dac_driver.c **** 	else if(dac == 3)
 113              		.loc 1 57 7 is_stmt 1 view .LVU26
  58:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS3_GPIO_Port, CS3_Pin, GPIO_PIN_SET);
 114              		.loc 1 58 3 view .LVU27
 115 005e 5148     		ldr	r0, .L47+8
 116 0060 0122     		movs	r2, #1
 117 0062 0421     		movs	r1, #4
 118 0064 FFF7FEFF 		bl	HAL_GPIO_WritePin
 119              	.LVL7:
 120              	.L22:
  59:Core/Src/dac_driver.c **** 	else
  60:Core/Src/dac_driver.c **** 		return;
  61:Core/Src/dac_driver.c **** 
  62:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT0_GPIO_Port, LAT0_Pin, GPIO_PIN_SET);
 121              		.loc 1 62 2 view .LVU28
 122 0068 4C48     		ldr	r0, .L47
 123 006a 0122     		movs	r2, #1
 124 006c 1021     		movs	r1, #16
 125 006e FFF7FEFF 		bl	HAL_GPIO_WritePin
 126              	.LVL8:
  63:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT1_GPIO_Port, LAT1_Pin, GPIO_PIN_SET);
 127              		.loc 1 63 2 view .LVU29
 128 0072 4A48     		ldr	r0, .L47
 129 0074 0122     		movs	r2, #1
 130 0076 2021     		movs	r1, #32
 131 0078 FFF7FEFF 		bl	HAL_GPIO_WritePin
 132              	.LVL9:
  64:Core/Src/dac_driver.c **** 
  65:Core/Src/dac_driver.c **** 	return;
 133              		.loc 1 65 2 view .LVU30
 134              	.L1:
  66:Core/Src/dac_driver.c **** }
 135              		.loc 1 66 1 is_stmt 0 view .LVU31
 136 007c 03B0     		add	sp, sp, #12
 137              		.cfi_remember_state
 138              		.cfi_def_cfa_offset 20
 139              		@ sp needed
 140 007e F0BD     		pop	{r4, r5, r6, r7, pc}
 141              	.LVL10:
 142              	.L3:
 143              		.cfi_restore_state
  23:Core/Src/dac_driver.c **** 	else
 144              		.loc 1 23 3 is_stmt 1 view .LVU32
 145 0080 0421     		movs	r1, #4
 146 0082 4848     		ldr	r0, .L47+8
 147 0084 0022     		movs	r2, #0
 148 0086 FFF7FEFF 		bl	HAL_GPIO_WritePin
 149              	.LVL11:
  27:Core/Src/dac_driver.c **** 
 150              		.loc 1 27 2 view .LVU33
  27:Core/Src/dac_driver.c **** 
 151              		.loc 1 27 10 is_stmt 0 view .LVU34
 152 008a 0023     		movs	r3, #0
 153 008c 01A9     		add	r1, sp, #4
 154 008e ADF80430 		strh	r3, [sp, #4]	@ movhi
  29:Core/Src/dac_driver.c **** 		case 0:
 155              		.loc 1 29 2 is_stmt 1 view .LVU35
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 5


 156 0092 032E     		cmp	r6, #3
 157 0094 F2D8     		bhi	.L1
 158 0096 01A3     		adr	r3, .L19
 159 0098 53F826F0 		ldr	pc, [r3, r6, lsl #2]
 160              		.p2align 2
 161              	.L19:
 162 009c 8D010000 		.word	.L20+1
 163 00a0 39010000 		.word	.L12+1
 164 00a4 35010000 		.word	.L11+1
 165 00a8 37000000 		.word	.L9+1
 166              		.p2align 1
 167              	.L5:
  21:Core/Src/dac_driver.c **** 	else if(dac == 3)
 168              		.loc 1 21 3 view .LVU36
 169 00ac 0821     		movs	r1, #8
 170 00ae 3D48     		ldr	r0, .L47+8
 171 00b0 0022     		movs	r2, #0
 172 00b2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 173              	.LVL12:
  27:Core/Src/dac_driver.c **** 
 174              		.loc 1 27 2 view .LVU37
  27:Core/Src/dac_driver.c **** 
 175              		.loc 1 27 10 is_stmt 0 view .LVU38
 176 00b6 0023     		movs	r3, #0
 177 00b8 01A9     		add	r1, sp, #4
 178 00ba ADF80430 		strh	r3, [sp, #4]	@ movhi
  29:Core/Src/dac_driver.c **** 		case 0:
 179              		.loc 1 29 2 is_stmt 1 view .LVU39
 180 00be 032E     		cmp	r6, #3
 181 00c0 DCD8     		bhi	.L1
 182 00c2 01A3     		adr	r3, .L17
 183 00c4 53F826F0 		ldr	pc, [r3, r6, lsl #2]
 184              		.p2align 2
 185              	.L17:
 186 00c8 59010000 		.word	.L18+1
 187 00cc 39010000 		.word	.L12+1
 188 00d0 35010000 		.word	.L11+1
 189 00d4 37000000 		.word	.L9+1
 190              		.p2align 1
 191              	.L6:
  19:Core/Src/dac_driver.c **** 	else if(dac == 2)
 192              		.loc 1 19 3 view .LVU40
 193 00d8 1021     		movs	r1, #16
 194 00da 3248     		ldr	r0, .L47+8
 195 00dc 0022     		movs	r2, #0
 196 00de FFF7FEFF 		bl	HAL_GPIO_WritePin
 197              	.LVL13:
  27:Core/Src/dac_driver.c **** 
 198              		.loc 1 27 2 view .LVU41
  27:Core/Src/dac_driver.c **** 
 199              		.loc 1 27 10 is_stmt 0 view .LVU42
 200 00e2 0023     		movs	r3, #0
 201 00e4 01A9     		add	r1, sp, #4
 202 00e6 ADF80430 		strh	r3, [sp, #4]	@ movhi
  29:Core/Src/dac_driver.c **** 		case 0:
 203              		.loc 1 29 2 is_stmt 1 view .LVU43
 204 00ea 032E     		cmp	r6, #3
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 6


 205 00ec C6D8     		bhi	.L1
 206 00ee 01A3     		adr	r3, .L15
 207 00f0 53F826F0 		ldr	pc, [r3, r6, lsl #2]
 208              		.p2align 2
 209              	.L15:
 210 00f4 73010000 		.word	.L16+1
 211 00f8 39010000 		.word	.L12+1
 212 00fc 35010000 		.word	.L11+1
 213 0100 37000000 		.word	.L9+1
 214              		.p2align 1
 215              	.L7:
  17:Core/Src/dac_driver.c **** 	else if(dac == 1)
 216              		.loc 1 17 3 view .LVU44
 217 0104 4FF48061 		mov	r1, #1024
 218 0108 2448     		ldr	r0, .L47
 219 010a 0022     		movs	r2, #0
 220 010c FFF7FEFF 		bl	HAL_GPIO_WritePin
 221              	.LVL14:
  27:Core/Src/dac_driver.c **** 
 222              		.loc 1 27 2 view .LVU45
  27:Core/Src/dac_driver.c **** 
 223              		.loc 1 27 10 is_stmt 0 view .LVU46
 224 0110 0023     		movs	r3, #0
 225 0112 01A9     		add	r1, sp, #4
 226 0114 ADF80430 		strh	r3, [sp, #4]	@ movhi
  29:Core/Src/dac_driver.c **** 		case 0:
 227              		.loc 1 29 2 is_stmt 1 view .LVU47
 228 0118 032E     		cmp	r6, #3
 229 011a AFD8     		bhi	.L1
 230 011c 01A3     		adr	r3, .L10
 231 011e 53F826F0 		ldr	pc, [r3, r6, lsl #2]
 232 0122 00BF     		.p2align 2
 233              	.L10:
 234 0124 3D010000 		.word	.L13+1
 235 0128 39010000 		.word	.L12+1
 236 012c 35010000 		.word	.L11+1
 237 0130 37000000 		.word	.L9+1
 238              		.p2align 1
 239              	.L11:
  37:Core/Src/dac_driver.c **** 		break;
 240              		.loc 1 37 3 view .LVU48
  38:Core/Src/dac_driver.c **** 		case 3:
 241              		.loc 1 38 3 view .LVU49
 242 0134 1822     		movs	r2, #24
 243 0136 7FE7     		b	.L14
 244              	.L12:
  34:Core/Src/dac_driver.c **** 		break;
 245              		.loc 1 34 3 view .LVU50
  35:Core/Src/dac_driver.c **** 		case 2:
 246              		.loc 1 35 3 view .LVU51
 247 0138 1022     		movs	r2, #16
 248 013a 7DE7     		b	.L14
 249              	.L13:
  46:Core/Src/dac_driver.c **** 	toSend[2]=value;
 250              		.loc 1 46 2 view .LVU52
  47:Core/Src/dac_driver.c **** 
 251              		.loc 1 47 2 view .LVU53
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 7


  49:Core/Src/dac_driver.c **** 
 252              		.loc 1 49 2 is_stmt 0 view .LVU54
 253 013c 1848     		ldr	r0, .L47+4
  46:Core/Src/dac_driver.c **** 	toSend[2]=value;
 254              		.loc 1 46 11 view .LVU55
 255 013e ADF80570 		strh	r7, [sp, #5]	@ unaligned
  49:Core/Src/dac_driver.c **** 
 256              		.loc 1 49 2 is_stmt 1 view .LVU56
 257 0142 6423     		movs	r3, #100
 258 0144 0322     		movs	r2, #3
 259 0146 FFF7FEFF 		bl	HAL_SPI_Transmit
 260              	.LVL15:
  51:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS0_GPIO_Port, CS0_Pin, GPIO_PIN_SET);
 261              		.loc 1 51 2 view .LVU57
 262              	.L27:
  52:Core/Src/dac_driver.c **** 	else if(dac == 1)
 263              		.loc 1 52 3 view .LVU58
 264 014a 1448     		ldr	r0, .L47
 265 014c 0122     		movs	r2, #1
 266 014e 4FF48061 		mov	r1, #1024
 267 0152 FFF7FEFF 		bl	HAL_GPIO_WritePin
 268              	.LVL16:
 269 0156 87E7     		b	.L22
 270              	.L18:
  46:Core/Src/dac_driver.c **** 	toSend[2]=value;
 271              		.loc 1 46 2 view .LVU59
  47:Core/Src/dac_driver.c **** 
 272              		.loc 1 47 2 view .LVU60
  49:Core/Src/dac_driver.c **** 
 273              		.loc 1 49 2 is_stmt 0 view .LVU61
 274 0158 1148     		ldr	r0, .L47+4
  46:Core/Src/dac_driver.c **** 	toSend[2]=value;
 275              		.loc 1 46 11 view .LVU62
 276 015a ADF80570 		strh	r7, [sp, #5]	@ unaligned
  49:Core/Src/dac_driver.c **** 
 277              		.loc 1 49 2 is_stmt 1 view .LVU63
 278 015e 6423     		movs	r3, #100
 279 0160 0322     		movs	r2, #3
 280 0162 FFF7FEFF 		bl	HAL_SPI_Transmit
 281              	.LVL17:
  51:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS0_GPIO_Port, CS0_Pin, GPIO_PIN_SET);
 282              		.loc 1 51 2 view .LVU64
  53:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS1_GPIO_Port, CS1_Pin, GPIO_PIN_SET);
 283              		.loc 1 53 7 view .LVU65
  55:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS2_GPIO_Port, CS2_Pin, GPIO_PIN_SET);
 284              		.loc 1 55 7 view .LVU66
 285              	.L26:
  56:Core/Src/dac_driver.c **** 	else if(dac == 3)
 286              		.loc 1 56 3 view .LVU67
 287 0166 0F48     		ldr	r0, .L47+8
 288 0168 0122     		movs	r2, #1
 289 016a 0821     		movs	r1, #8
 290 016c FFF7FEFF 		bl	HAL_GPIO_WritePin
 291              	.LVL18:
 292 0170 7AE7     		b	.L22
 293              	.L16:
  46:Core/Src/dac_driver.c **** 	toSend[2]=value;
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 8


 294              		.loc 1 46 2 view .LVU68
  47:Core/Src/dac_driver.c **** 
 295              		.loc 1 47 2 view .LVU69
  49:Core/Src/dac_driver.c **** 
 296              		.loc 1 49 2 is_stmt 0 view .LVU70
 297 0172 0B48     		ldr	r0, .L47+4
  46:Core/Src/dac_driver.c **** 	toSend[2]=value;
 298              		.loc 1 46 11 view .LVU71
 299 0174 ADF80570 		strh	r7, [sp, #5]	@ unaligned
  49:Core/Src/dac_driver.c **** 
 300              		.loc 1 49 2 is_stmt 1 view .LVU72
 301 0178 6423     		movs	r3, #100
 302 017a 0322     		movs	r2, #3
 303 017c FFF7FEFF 		bl	HAL_SPI_Transmit
 304              	.LVL19:
  51:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS0_GPIO_Port, CS0_Pin, GPIO_PIN_SET);
 305              		.loc 1 51 2 view .LVU73
 306              	.L25:
  54:Core/Src/dac_driver.c **** 	else if(dac == 2)
 307              		.loc 1 54 3 view .LVU74
 308 0180 0848     		ldr	r0, .L47+8
 309 0182 0122     		movs	r2, #1
 310 0184 1021     		movs	r1, #16
 311 0186 FFF7FEFF 		bl	HAL_GPIO_WritePin
 312              	.LVL20:
 313 018a 6DE7     		b	.L22
 314              	.L20:
  46:Core/Src/dac_driver.c **** 	toSend[2]=value;
 315              		.loc 1 46 2 view .LVU75
  47:Core/Src/dac_driver.c **** 
 316              		.loc 1 47 2 view .LVU76
  49:Core/Src/dac_driver.c **** 
 317              		.loc 1 49 2 is_stmt 0 view .LVU77
 318 018c 6423     		movs	r3, #100
 319 018e 0322     		movs	r2, #3
 320 0190 0348     		ldr	r0, .L47+4
  46:Core/Src/dac_driver.c **** 	toSend[2]=value;
 321              		.loc 1 46 11 view .LVU78
 322 0192 ADF80570 		strh	r7, [sp, #5]	@ unaligned
  49:Core/Src/dac_driver.c **** 
 323              		.loc 1 49 2 is_stmt 1 view .LVU79
 324 0196 FFF7FEFF 		bl	HAL_SPI_Transmit
 325              	.LVL21:
  51:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS0_GPIO_Port, CS0_Pin, GPIO_PIN_SET);
 326              		.loc 1 51 2 view .LVU80
  53:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS1_GPIO_Port, CS1_Pin, GPIO_PIN_SET);
 327              		.loc 1 53 7 view .LVU81
  55:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS2_GPIO_Port, CS2_Pin, GPIO_PIN_SET);
 328              		.loc 1 55 7 view .LVU82
 329 019a 60E7     		b	.L24
 330              	.L48:
 331              		.align	2
 332              	.L47:
 333 019c 00040240 		.word	1073873920
 334 01a0 00000000 		.word	hspi1
 335 01a4 00000240 		.word	1073872896
 336              		.cfi_endproc
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 9


 337              	.LFE216:
 339              		.section	.text.setBar,"ax",%progbits
 340              		.align	1
 341              		.p2align 2,,3
 342              		.global	setBar
 343              		.syntax unified
 344              		.thumb
 345              		.thumb_func
 347              	setBar:
 348              	.LVL22:
 349              	.LFB217:
  67:Core/Src/dac_driver.c **** 
  68:Core/Src/dac_driver.c **** void setBar(uint8_t barNumber,uint8_t value){
 350              		.loc 1 68 45 view -0
 351              		.cfi_startproc
 352              		@ args = 0, pretend = 0, frame = 8
 353              		@ frame_needed = 0, uses_anonymous_args = 0
 354              		.loc 1 68 45 is_stmt 0 view .LVU84
 355 0000 30B5     		push	{r4, r5, lr}
 356              		.cfi_def_cfa_offset 12
 357              		.cfi_offset 4, -12
 358              		.cfi_offset 5, -8
 359              		.cfi_offset 14, -4
  69:Core/Src/dac_driver.c **** 	if(barNumber<4){
 360              		.loc 1 69 4 view .LVU85
 361 0002 0328     		cmp	r0, #3
  68:Core/Src/dac_driver.c **** 	if(barNumber<4){
 362              		.loc 1 68 45 view .LVU86
 363 0004 83B0     		sub	sp, sp, #12
 364              		.cfi_def_cfa_offset 24
  68:Core/Src/dac_driver.c **** 	if(barNumber<4){
 365              		.loc 1 68 45 view .LVU87
 366 0006 0446     		mov	r4, r0
 367              		.loc 1 69 2 is_stmt 1 view .LVU88
 368              		.loc 1 69 4 is_stmt 0 view .LVU89
 369 0008 0FD9     		bls	.L59
  70:Core/Src/dac_driver.c **** 		dac_write(barNumber,value,0);
  71:Core/Src/dac_driver.c **** 	}else if(barNumber<8){
 370              		.loc 1 71 8 is_stmt 1 view .LVU90
 371              		.loc 1 71 10 is_stmt 0 view .LVU91
 372 000a 0728     		cmp	r0, #7
 373 000c 05D9     		bls	.L60
  72:Core/Src/dac_driver.c **** 		dac_write(barNumber-4,value,1);
  73:Core/Src/dac_driver.c **** 	}else if(barNumber<12){
 374              		.loc 1 73 8 is_stmt 1 view .LVU92
 375              		.loc 1 73 10 is_stmt 0 view .LVU93
 376 000e 0B28     		cmp	r0, #11
 377 0010 54D9     		bls	.L61
  74:Core/Src/dac_driver.c **** 		dac_write(barNumber-8,value,2);	
  75:Core/Src/dac_driver.c **** 	}else if(barNumber<16){
 378              		.loc 1 75 8 is_stmt 1 view .LVU94
 379              		.loc 1 75 10 is_stmt 0 view .LVU95
 380 0012 0F28     		cmp	r0, #15
 381 0014 46D9     		bls	.L62
  76:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
  77:Core/Src/dac_driver.c **** 	}else{
  78:Core/Src/dac_driver.c **** 		return;
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 10


  79:Core/Src/dac_driver.c **** 	}
  80:Core/Src/dac_driver.c **** }
 382              		.loc 1 80 1 view .LVU96
 383 0016 03B0     		add	sp, sp, #12
 384              		.cfi_remember_state
 385              		.cfi_def_cfa_offset 12
 386              		@ sp needed
 387 0018 30BD     		pop	{r4, r5, pc}
 388              	.L60:
 389              		.cfi_restore_state
  72:Core/Src/dac_driver.c **** 	}else if(barNumber<12){
 390              		.loc 1 72 3 is_stmt 1 view .LVU97
 391 001a 0438     		subs	r0, r0, #4
 392              	.LVL23:
  72:Core/Src/dac_driver.c **** 	}else if(barNumber<12){
 393              		.loc 1 72 3 is_stmt 0 view .LVU98
 394 001c 0122     		movs	r2, #1
 395              	.LBB6:
 396              	.LBB7:
  76:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
 397              		.loc 1 76 3 view .LVU99
 398 001e C0B2     		uxtb	r0, r0
 399              	.LBE7:
 400              	.LBE6:
 401              		.loc 1 80 1 view .LVU100
 402 0020 03B0     		add	sp, sp, #12
 403              		.cfi_remember_state
 404              		.cfi_def_cfa_offset 12
 405              		@ sp needed
 406 0022 BDE83040 		pop	{r4, r5, lr}
 407              		.cfi_restore 14
 408              		.cfi_restore 5
 409              		.cfi_restore 4
 410              		.cfi_def_cfa_offset 0
 411              	.LVL24:
 412              	.LBB13:
 413              	.LBB8:
  76:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
 414              		.loc 1 76 3 view .LVU101
 415 0026 FFF7FEBF 		b	dac_write
 416              	.LVL25:
 417              	.L59:
 418              		.cfi_restore_state
  76:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
 419              		.loc 1 76 3 view .LVU102
 420              	.LBE8:
 421              	.LBE13:
 422              	.LBB14:
 423              	.LBB15:
  13:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT1_GPIO_Port, LAT1_Pin, GPIO_PIN_RESET);
 424              		.loc 1 13 2 view .LVU103
 425 002a 2A48     		ldr	r0, .L63
 426              	.LVL26:
  13:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT1_GPIO_Port, LAT1_Pin, GPIO_PIN_RESET);
 427              		.loc 1 13 2 view .LVU104
 428 002c 0022     		movs	r2, #0
 429 002e 0D46     		mov	r5, r1
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 11


 430              	.LBE15:
 431              	.LBE14:
  70:Core/Src/dac_driver.c **** 	}else if(barNumber<8){
 432              		.loc 1 70 3 is_stmt 1 view .LVU105
 433              	.LVL27:
 434              	.LBB19:
 435              	.LBI14:
  12:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT0_GPIO_Port, LAT0_Pin, GPIO_PIN_RESET);
 436              		.loc 1 12 6 view .LVU106
 437              	.LBB16:
  13:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT1_GPIO_Port, LAT1_Pin, GPIO_PIN_RESET);
 438              		.loc 1 13 2 view .LVU107
 439 0030 1021     		movs	r1, #16
 440              	.LVL28:
  13:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT1_GPIO_Port, LAT1_Pin, GPIO_PIN_RESET);
 441              		.loc 1 13 2 is_stmt 0 view .LVU108
 442 0032 FFF7FEFF 		bl	HAL_GPIO_WritePin
 443              	.LVL29:
  14:Core/Src/dac_driver.c **** 	
 444              		.loc 1 14 2 is_stmt 1 view .LVU109
 445 0036 2748     		ldr	r0, .L63
 446 0038 0022     		movs	r2, #0
 447 003a 2021     		movs	r1, #32
 448 003c FFF7FEFF 		bl	HAL_GPIO_WritePin
 449              	.LVL30:
  16:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS0_GPIO_Port, CS0_Pin, GPIO_PIN_RESET);
 450              		.loc 1 16 2 view .LVU110
  17:Core/Src/dac_driver.c **** 	else if(dac == 1)
 451              		.loc 1 17 3 view .LVU111
 452 0040 2448     		ldr	r0, .L63
 453 0042 0022     		movs	r2, #0
 454 0044 4FF48061 		mov	r1, #1024
 455 0048 FFF7FEFF 		bl	HAL_GPIO_WritePin
 456              	.LVL31:
  27:Core/Src/dac_driver.c **** 
 457              		.loc 1 27 2 view .LVU112
  27:Core/Src/dac_driver.c **** 
 458              		.loc 1 27 10 is_stmt 0 view .LVU113
 459 004c 0023     		movs	r3, #0
  29:Core/Src/dac_driver.c **** 		case 0:
 460              		.loc 1 29 2 view .LVU114
 461 004e 022C     		cmp	r4, #2
  27:Core/Src/dac_driver.c **** 
 462              		.loc 1 27 10 view .LVU115
 463 0050 ADF80430 		strh	r3, [sp, #4]	@ movhi
  29:Core/Src/dac_driver.c **** 		case 0:
 464              		.loc 1 29 2 is_stmt 1 view .LVU116
 465 0054 3AD0     		beq	.L51
 466 0056 032C     		cmp	r4, #3
 467 0058 2CD0     		beq	.L52
 468 005a 012C     		cmp	r4, #1
 469 005c 02D1     		bne	.L53
  34:Core/Src/dac_driver.c **** 		break;
 470              		.loc 1 34 3 view .LVU117
  34:Core/Src/dac_driver.c **** 		break;
 471              		.loc 1 34 12 is_stmt 0 view .LVU118
 472 005e 1023     		movs	r3, #16
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 12


 473 0060 8DF80430 		strb	r3, [sp, #4]
  35:Core/Src/dac_driver.c **** 		case 2:
 474              		.loc 1 35 3 is_stmt 1 view .LVU119
 475              	.L53:
  46:Core/Src/dac_driver.c **** 	toSend[2]=value;
 476              		.loc 1 46 2 view .LVU120
  47:Core/Src/dac_driver.c **** 
 477              		.loc 1 47 2 view .LVU121
  46:Core/Src/dac_driver.c **** 	toSend[2]=value;
 478              		.loc 1 46 11 is_stmt 0 view .LVU122
 479 0064 4FF00004 		mov	r4, #0	@ movhi
 480              	.LVL32:
  46:Core/Src/dac_driver.c **** 	toSend[2]=value;
 481              		.loc 1 46 11 view .LVU123
 482 0068 65F30704 		bfi	r4, r5, #0, #8
 483              	.LVL33:
  49:Core/Src/dac_driver.c **** 
 484              		.loc 1 49 2 view .LVU124
 485 006c 6423     		movs	r3, #100
 486 006e 01A9     		add	r1, sp, #4
  46:Core/Src/dac_driver.c **** 	toSend[2]=value;
 487              		.loc 1 46 11 view .LVU125
 488 0070 65F30F24 		bfi	r4, r5, #8, #8
  49:Core/Src/dac_driver.c **** 
 489              		.loc 1 49 2 view .LVU126
 490 0074 0322     		movs	r2, #3
 491 0076 1848     		ldr	r0, .L63+4
  46:Core/Src/dac_driver.c **** 	toSend[2]=value;
 492              		.loc 1 46 11 view .LVU127
 493 0078 ADF80540 		strh	r4, [sp, #5]	@ unaligned
  49:Core/Src/dac_driver.c **** 
 494              		.loc 1 49 2 is_stmt 1 view .LVU128
 495 007c FFF7FEFF 		bl	HAL_SPI_Transmit
 496              	.LVL34:
  51:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS0_GPIO_Port, CS0_Pin, GPIO_PIN_SET);
 497              		.loc 1 51 2 view .LVU129
  52:Core/Src/dac_driver.c **** 	else if(dac == 1)
 498              		.loc 1 52 3 view .LVU130
 499 0080 1448     		ldr	r0, .L63
 500 0082 0122     		movs	r2, #1
 501 0084 4FF48061 		mov	r1, #1024
 502 0088 FFF7FEFF 		bl	HAL_GPIO_WritePin
 503              	.LVL35:
  62:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT1_GPIO_Port, LAT1_Pin, GPIO_PIN_SET);
 504              		.loc 1 62 2 view .LVU131
 505 008c 1148     		ldr	r0, .L63
 506 008e 0122     		movs	r2, #1
 507 0090 1021     		movs	r1, #16
 508 0092 FFF7FEFF 		bl	HAL_GPIO_WritePin
 509              	.LVL36:
  63:Core/Src/dac_driver.c **** 
 510              		.loc 1 63 2 view .LVU132
 511 0096 0F48     		ldr	r0, .L63
 512 0098 0122     		movs	r2, #1
 513 009a 2021     		movs	r1, #32
 514 009c FFF7FEFF 		bl	HAL_GPIO_WritePin
 515              	.LVL37:
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 13


  65:Core/Src/dac_driver.c **** }
 516              		.loc 1 65 2 view .LVU133
  65:Core/Src/dac_driver.c **** }
 517              		.loc 1 65 2 is_stmt 0 view .LVU134
 518              	.LBE16:
 519              	.LBE19:
 520              		.loc 1 80 1 view .LVU135
 521 00a0 03B0     		add	sp, sp, #12
 522              		.cfi_remember_state
 523              		.cfi_def_cfa_offset 12
 524              		@ sp needed
 525 00a2 30BD     		pop	{r4, r5, pc}
 526              	.LVL38:
 527              	.L62:
 528              		.cfi_restore_state
 529              	.LBB20:
 530              	.LBI6:
  68:Core/Src/dac_driver.c **** 	if(barNumber<4){
 531              		.loc 1 68 6 is_stmt 1 view .LVU136
 532              	.LBB9:
  76:Core/Src/dac_driver.c **** 	}else{
 533              		.loc 1 76 3 view .LVU137
 534 00a4 0C38     		subs	r0, r0, #12
 535              	.LVL39:
  76:Core/Src/dac_driver.c **** 	}else{
 536              		.loc 1 76 3 is_stmt 0 view .LVU138
 537 00a6 0322     		movs	r2, #3
 538 00a8 C0B2     		uxtb	r0, r0
 539              	.LBE9:
 540              	.LBE20:
 541              		.loc 1 80 1 view .LVU139
 542 00aa 03B0     		add	sp, sp, #12
 543              		.cfi_remember_state
 544              		.cfi_def_cfa_offset 12
 545              		@ sp needed
 546 00ac BDE83040 		pop	{r4, r5, lr}
 547              		.cfi_restore 14
 548              		.cfi_restore 5
 549              		.cfi_restore 4
 550              		.cfi_def_cfa_offset 0
 551              	.LVL40:
 552              	.LBB21:
 553              	.LBB10:
  76:Core/Src/dac_driver.c **** 	}else{
 554              		.loc 1 76 3 view .LVU140
 555 00b0 FFF7FEBF 		b	dac_write
 556              	.LVL41:
 557              	.L52:
 558              		.cfi_restore_state
  76:Core/Src/dac_driver.c **** 	}else{
 559              		.loc 1 76 3 view .LVU141
 560              	.LBE10:
 561              	.LBE21:
 562              	.LBB22:
 563              	.LBB17:
  40:Core/Src/dac_driver.c **** 		break;
 564              		.loc 1 40 3 is_stmt 1 view .LVU142
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 14


  40:Core/Src/dac_driver.c **** 		break;
 565              		.loc 1 40 12 is_stmt 0 view .LVU143
 566 00b4 0823     		movs	r3, #8
 567 00b6 8DF80430 		strb	r3, [sp, #4]
  41:Core/Src/dac_driver.c **** 		default:
 568              		.loc 1 41 3 is_stmt 1 view .LVU144
 569 00ba D3E7     		b	.L53
 570              	.LVL42:
 571              	.L61:
  41:Core/Src/dac_driver.c **** 		default:
 572              		.loc 1 41 3 is_stmt 0 view .LVU145
 573              	.LBE17:
 574              	.LBE22:
  74:Core/Src/dac_driver.c **** 	}else if(barNumber<16){
 575              		.loc 1 74 3 is_stmt 1 view .LVU146
 576 00bc 0838     		subs	r0, r0, #8
 577              	.LVL43:
  74:Core/Src/dac_driver.c **** 	}else if(barNumber<16){
 578              		.loc 1 74 3 is_stmt 0 view .LVU147
 579 00be 0222     		movs	r2, #2
 580              	.LBB23:
 581              	.LBB11:
  76:Core/Src/dac_driver.c **** 	}else{
 582              		.loc 1 76 3 view .LVU148
 583 00c0 C0B2     		uxtb	r0, r0
 584              	.LBE11:
 585              	.LBE23:
 586              		.loc 1 80 1 view .LVU149
 587 00c2 03B0     		add	sp, sp, #12
 588              		.cfi_remember_state
 589              		.cfi_def_cfa_offset 12
 590              		@ sp needed
 591 00c4 BDE83040 		pop	{r4, r5, lr}
 592              		.cfi_restore 14
 593              		.cfi_restore 5
 594              		.cfi_restore 4
 595              		.cfi_def_cfa_offset 0
 596              	.LVL44:
 597              	.LBB24:
 598              	.LBB12:
  76:Core/Src/dac_driver.c **** 	}else{
 599              		.loc 1 76 3 view .LVU150
 600 00c8 FFF7FEBF 		b	dac_write
 601              	.LVL45:
 602              	.L51:
 603              		.cfi_restore_state
  76:Core/Src/dac_driver.c **** 	}else{
 604              		.loc 1 76 3 view .LVU151
 605              	.LBE12:
 606              	.LBE24:
 607              	.LBB25:
 608              	.LBB18:
  37:Core/Src/dac_driver.c **** 		break;
 609              		.loc 1 37 3 is_stmt 1 view .LVU152
  37:Core/Src/dac_driver.c **** 		break;
 610              		.loc 1 37 12 is_stmt 0 view .LVU153
 611 00cc 1823     		movs	r3, #24
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 15


 612 00ce 8DF80430 		strb	r3, [sp, #4]
  38:Core/Src/dac_driver.c **** 		case 3:
 613              		.loc 1 38 3 is_stmt 1 view .LVU154
 614 00d2 C7E7     		b	.L53
 615              	.L64:
 616              		.align	2
 617              	.L63:
 618 00d4 00040240 		.word	1073873920
 619 00d8 00000000 		.word	hspi1
 620              	.LBE18:
 621              	.LBE25:
 622              		.cfi_endproc
 623              	.LFE217:
 625              		.section	.text.setBarInv,"ax",%progbits
 626              		.align	1
 627              		.p2align 2,,3
 628              		.global	setBarInv
 629              		.syntax unified
 630              		.thumb
 631              		.thumb_func
 633              	setBarInv:
 634              	.LVL46:
 635              	.LFB218:
  81:Core/Src/dac_driver.c **** 
  82:Core/Src/dac_driver.c **** void setBarInv(uint8_t barNumber,uint8_t value){
 636              		.loc 1 82 48 view -0
 637              		.cfi_startproc
 638              		@ args = 0, pretend = 0, frame = 8
 639              		@ frame_needed = 0, uses_anonymous_args = 0
  83:Core/Src/dac_driver.c **** 	setBar(11-barNumber,value);
 640              		.loc 1 83 2 view .LVU156
  82:Core/Src/dac_driver.c **** 	setBar(11-barNumber,value);
 641              		.loc 1 82 48 is_stmt 0 view .LVU157
 642 0000 30B5     		push	{r4, r5, lr}
 643              		.cfi_def_cfa_offset 12
 644              		.cfi_offset 4, -12
 645              		.cfi_offset 5, -8
 646              		.cfi_offset 14, -4
 647              		.loc 1 83 2 view .LVU158
 648 0002 C0F10B04 		rsb	r4, r0, #11
 649 0006 E4B2     		uxtb	r4, r4
 650              	.LVL47:
 651              	.LBB32:
 652              	.LBI32:
  68:Core/Src/dac_driver.c **** 	if(barNumber<4){
 653              		.loc 1 68 6 is_stmt 1 view .LVU159
 654              	.LBB33:
  69:Core/Src/dac_driver.c **** 		dac_write(barNumber,value,0);
 655              		.loc 1 69 2 view .LVU160
  69:Core/Src/dac_driver.c **** 		dac_write(barNumber,value,0);
 656              		.loc 1 69 4 is_stmt 0 view .LVU161
 657 0008 032C     		cmp	r4, #3
 658              	.LBE33:
 659              	.LBE32:
  82:Core/Src/dac_driver.c **** 	setBar(11-barNumber,value);
 660              		.loc 1 82 48 view .LVU162
 661 000a 83B0     		sub	sp, sp, #12
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 16


 662              		.cfi_def_cfa_offset 24
 663              	.LBB60:
 664              	.LBB54:
  69:Core/Src/dac_driver.c **** 		dac_write(barNumber,value,0);
 665              		.loc 1 69 4 view .LVU163
 666 000c 10D9     		bls	.L75
  71:Core/Src/dac_driver.c **** 		dac_write(barNumber-4,value,1);
 667              		.loc 1 71 8 is_stmt 1 view .LVU164
  71:Core/Src/dac_driver.c **** 		dac_write(barNumber-4,value,1);
 668              		.loc 1 71 10 is_stmt 0 view .LVU165
 669 000e 072C     		cmp	r4, #7
 670 0010 05D9     		bls	.L76
  73:Core/Src/dac_driver.c **** 		dac_write(barNumber-8,value,2);	
 671              		.loc 1 73 8 is_stmt 1 view .LVU166
  73:Core/Src/dac_driver.c **** 		dac_write(barNumber-8,value,2);	
 672              		.loc 1 73 10 is_stmt 0 view .LVU167
 673 0012 0B2C     		cmp	r4, #11
 674 0014 55D9     		bls	.L77
  75:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
 675              		.loc 1 75 8 is_stmt 1 view .LVU168
  75:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
 676              		.loc 1 75 10 is_stmt 0 view .LVU169
 677 0016 0F2C     		cmp	r4, #15
 678 0018 47D9     		bls	.L78
 679              	.LBE54:
 680              	.LBE60:
  84:Core/Src/dac_driver.c **** }...
 681              		.loc 1 84 1 view .LVU170
 682 001a 03B0     		add	sp, sp, #12
 683              		.cfi_remember_state
 684              		.cfi_def_cfa_offset 12
 685              		@ sp needed
 686 001c 30BD     		pop	{r4, r5, pc}
 687              	.LVL48:
 688              	.L76:
 689              		.cfi_restore_state
 690              	.LBB61:
 691              	.LBB55:
  72:Core/Src/dac_driver.c **** 		dac_write(barNumber-4,value,1);
 692              		.loc 1 72 3 is_stmt 1 view .LVU171
 693 001e C0F10700 		rsb	r0, r0, #7
 694              	.LVL49:
  72:Core/Src/dac_driver.c **** 		dac_write(barNumber-4,value,1);
 695              		.loc 1 72 3 is_stmt 0 view .LVU172
 696 0022 0122     		movs	r2, #1
 697              	.LBB34:
 698              	.LBB35:
  76:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
 699              		.loc 1 76 3 view .LVU173
 700 0024 C0B2     		uxtb	r0, r0
 701              	.LBE35:
 702              	.LBE34:
 703              	.LBE55:
 704              	.LBE61:
 705              		.loc 1 84 1 view .LVU174
 706 0026 03B0     		add	sp, sp, #12
 707              		.cfi_remember_state
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 17


 708              		.cfi_def_cfa_offset 12
 709              		@ sp needed
 710 0028 BDE83040 		pop	{r4, r5, lr}
 711              		.cfi_restore 14
 712              		.cfi_restore 5
 713              		.cfi_restore 4
 714              		.cfi_def_cfa_offset 0
 715              	.LVL50:
 716              	.LBB62:
 717              	.LBB56:
 718              	.LBB41:
 719              	.LBB36:
  76:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
 720              		.loc 1 76 3 view .LVU175
 721 002c FFF7FEBF 		b	dac_write
 722              	.LVL51:
 723              	.L75:
 724              		.cfi_restore_state
  76:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
 725              		.loc 1 76 3 view .LVU176
 726              	.LBE36:
 727              	.LBE41:
 728              	.LBB42:
 729              	.LBB43:
  13:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT0_GPIO_Port, LAT0_Pin, GPIO_PIN_RESET);
 730              		.loc 1 13 2 view .LVU177
 731 0030 2A48     		ldr	r0, .L79
 732              	.LVL52:
  13:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT0_GPIO_Port, LAT0_Pin, GPIO_PIN_RESET);
 733              		.loc 1 13 2 view .LVU178
 734 0032 0022     		movs	r2, #0
 735 0034 0D46     		mov	r5, r1
 736              	.LBE43:
 737              	.LBE42:
  70:Core/Src/dac_driver.c **** 		dac_write(barNumber,value,0);
 738              		.loc 1 70 3 is_stmt 1 view .LVU179
 739              	.LVL53:
 740              	.LBB47:
 741              	.LBI42:
  12:Core/Src/dac_driver.c **** void dac_write(uint8_t channel, uint8_t value, uint8_t dac){
 742              		.loc 1 12 6 view .LVU180
 743              	.LBB44:
  13:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT0_GPIO_Port, LAT0_Pin, GPIO_PIN_RESET);
 744              		.loc 1 13 2 view .LVU181
 745 0036 1021     		movs	r1, #16
 746              	.LVL54:
  13:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT0_GPIO_Port, LAT0_Pin, GPIO_PIN_RESET);
 747              		.loc 1 13 2 is_stmt 0 view .LVU182
 748 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
 749              	.LVL55:
  14:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT1_GPIO_Port, LAT1_Pin, GPIO_PIN_RESET);
 750              		.loc 1 14 2 is_stmt 1 view .LVU183
 751 003c 2748     		ldr	r0, .L79
 752 003e 0022     		movs	r2, #0
 753 0040 2021     		movs	r1, #32
 754 0042 FFF7FEFF 		bl	HAL_GPIO_WritePin
 755              	.LVL56:
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 18


  16:Core/Src/dac_driver.c **** 	if(dac == 0)
 756              		.loc 1 16 2 view .LVU184
  17:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS0_GPIO_Port, CS0_Pin, GPIO_PIN_RESET);
 757              		.loc 1 17 3 view .LVU185
 758 0046 2548     		ldr	r0, .L79
 759 0048 0022     		movs	r2, #0
 760 004a 4FF48061 		mov	r1, #1024
 761 004e FFF7FEFF 		bl	HAL_GPIO_WritePin
 762              	.LVL57:
  27:Core/Src/dac_driver.c **** 	uint8_t toSend[3] = {0,0,0};
 763              		.loc 1 27 2 view .LVU186
  27:Core/Src/dac_driver.c **** 	uint8_t toSend[3] = {0,0,0};
 764              		.loc 1 27 10 is_stmt 0 view .LVU187
 765 0052 0023     		movs	r3, #0
  29:Core/Src/dac_driver.c **** 	switch(channel){
 766              		.loc 1 29 2 view .LVU188
 767 0054 022C     		cmp	r4, #2
  27:Core/Src/dac_driver.c **** 	uint8_t toSend[3] = {0,0,0};
 768              		.loc 1 27 10 view .LVU189
 769 0056 ADF80430 		strh	r3, [sp, #4]	@ movhi
  29:Core/Src/dac_driver.c **** 	switch(channel){
 770              		.loc 1 29 2 is_stmt 1 view .LVU190
 771 005a 3BD0     		beq	.L67
 772 005c 032C     		cmp	r4, #3
 773 005e 2CD0     		beq	.L68
 774 0060 012C     		cmp	r4, #1
 775 0062 02D1     		bne	.L69
  34:Core/Src/dac_driver.c **** 		toSend[0]=0b00010000;
 776              		.loc 1 34 3 view .LVU191
  34:Core/Src/dac_driver.c **** 		toSend[0]=0b00010000;
 777              		.loc 1 34 12 is_stmt 0 view .LVU192
 778 0064 1023     		movs	r3, #16
 779 0066 8DF80430 		strb	r3, [sp, #4]
  35:Core/Src/dac_driver.c **** 		break;
 780              		.loc 1 35 3 is_stmt 1 view .LVU193
 781              	.L69:
  46:Core/Src/dac_driver.c **** 	toSend[1]=value;
 782              		.loc 1 46 2 view .LVU194
  47:Core/Src/dac_driver.c **** 	toSend[2]=value;
 783              		.loc 1 47 2 view .LVU195
  46:Core/Src/dac_driver.c **** 	toSend[1]=value;
 784              		.loc 1 46 11 is_stmt 0 view .LVU196
 785 006a 4FF00004 		mov	r4, #0	@ movhi
 786              	.LVL58:
  46:Core/Src/dac_driver.c **** 	toSend[1]=value;
 787              		.loc 1 46 11 view .LVU197
 788 006e 65F30704 		bfi	r4, r5, #0, #8
 789              	.LVL59:
  49:Core/Src/dac_driver.c **** 	HAL_SPI_Transmit(&hspi1, toSend, 3, 100);
 790              		.loc 1 49 2 view .LVU198
 791 0072 6423     		movs	r3, #100
 792 0074 01A9     		add	r1, sp, #4
  46:Core/Src/dac_driver.c **** 	toSend[1]=value;
 793              		.loc 1 46 11 view .LVU199
 794 0076 65F30F24 		bfi	r4, r5, #8, #8
  49:Core/Src/dac_driver.c **** 	HAL_SPI_Transmit(&hspi1, toSend, 3, 100);
 795              		.loc 1 49 2 view .LVU200
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 19


 796 007a 0322     		movs	r2, #3
 797 007c 1848     		ldr	r0, .L79+4
  46:Core/Src/dac_driver.c **** 	toSend[1]=value;
 798              		.loc 1 46 11 view .LVU201
 799 007e ADF80540 		strh	r4, [sp, #5]	@ unaligned
  49:Core/Src/dac_driver.c **** 	HAL_SPI_Transmit(&hspi1, toSend, 3, 100);
 800              		.loc 1 49 2 is_stmt 1 view .LVU202
 801 0082 FFF7FEFF 		bl	HAL_SPI_Transmit
 802              	.LVL60:
  51:Core/Src/dac_driver.c **** 	if(dac == 0)
 803              		.loc 1 51 2 view .LVU203
  52:Core/Src/dac_driver.c **** 		HAL_GPIO_WritePin(CS0_GPIO_Port, CS0_Pin, GPIO_PIN_SET);
 804              		.loc 1 52 3 view .LVU204
 805 0086 1548     		ldr	r0, .L79
 806 0088 0122     		movs	r2, #1
 807 008a 4FF48061 		mov	r1, #1024
 808 008e FFF7FEFF 		bl	HAL_GPIO_WritePin
 809              	.LVL61:
  62:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT0_GPIO_Port, LAT0_Pin, GPIO_PIN_SET);
 810              		.loc 1 62 2 view .LVU205
 811 0092 1248     		ldr	r0, .L79
 812 0094 0122     		movs	r2, #1
 813 0096 1021     		movs	r1, #16
 814 0098 FFF7FEFF 		bl	HAL_GPIO_WritePin
 815              	.LVL62:
  63:Core/Src/dac_driver.c **** 	HAL_GPIO_WritePin(LAT1_GPIO_Port, LAT1_Pin, GPIO_PIN_SET);
 816              		.loc 1 63 2 view .LVU206
 817 009c 0F48     		ldr	r0, .L79
 818 009e 0122     		movs	r2, #1
 819 00a0 2021     		movs	r1, #32
 820 00a2 FFF7FEFF 		bl	HAL_GPIO_WritePin
 821              	.LVL63:
  65:Core/Src/dac_driver.c **** 	return;
 822              		.loc 1 65 2 view .LVU207
  65:Core/Src/dac_driver.c **** 	return;
 823              		.loc 1 65 2 is_stmt 0 view .LVU208
 824              	.LBE44:
 825              	.LBE47:
 826              	.LBE56:
 827              	.LBE62:
 828              		.loc 1 84 1 view .LVU209
 829 00a6 03B0     		add	sp, sp, #12
 830              		.cfi_remember_state
 831              		.cfi_def_cfa_offset 12
 832              		@ sp needed
 833 00a8 30BD     		pop	{r4, r5, pc}
 834              	.LVL64:
 835              	.L78:
 836              		.cfi_restore_state
 837              	.LBB63:
 838              	.LBB57:
 839              	.LBB48:
 840              	.LBI34:
  68:Core/Src/dac_driver.c **** void setBar(uint8_t barNumber,uint8_t value){
 841              		.loc 1 68 6 is_stmt 1 view .LVU210
 842              	.LBB37:
  76:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 20


 843              		.loc 1 76 3 view .LVU211
 844 00aa C043     		mvns	r0, r0
 845              	.LVL65:
  76:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
 846              		.loc 1 76 3 is_stmt 0 view .LVU212
 847 00ac 0322     		movs	r2, #3
 848 00ae C0B2     		uxtb	r0, r0
 849              	.LBE37:
 850              	.LBE48:
 851              	.LBE57:
 852              	.LBE63:
 853              		.loc 1 84 1 view .LVU213
 854 00b0 03B0     		add	sp, sp, #12
 855              		.cfi_remember_state
 856              		.cfi_def_cfa_offset 12
 857              		@ sp needed
 858 00b2 BDE83040 		pop	{r4, r5, lr}
 859              		.cfi_restore 14
 860              		.cfi_restore 5
 861              		.cfi_restore 4
 862              		.cfi_def_cfa_offset 0
 863              	.LVL66:
 864              	.LBB64:
 865              	.LBB58:
 866              	.LBB49:
 867              	.LBB38:
  76:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
 868              		.loc 1 76 3 view .LVU214
 869 00b6 FFF7FEBF 		b	dac_write
 870              	.LVL67:
 871              	.L68:
 872              		.cfi_restore_state
  76:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
 873              		.loc 1 76 3 view .LVU215
 874              	.LBE38:
 875              	.LBE49:
 876              	.LBB50:
 877              	.LBB45:
  40:Core/Src/dac_driver.c **** 		toSend[0]=0b00001000;
 878              		.loc 1 40 3 is_stmt 1 view .LVU216
  40:Core/Src/dac_driver.c **** 		toSend[0]=0b00001000;
 879              		.loc 1 40 12 is_stmt 0 view .LVU217
 880 00ba 0823     		movs	r3, #8
 881 00bc 8DF80430 		strb	r3, [sp, #4]
  41:Core/Src/dac_driver.c **** 		break;
 882              		.loc 1 41 3 is_stmt 1 view .LVU218
 883 00c0 D3E7     		b	.L69
 884              	.LVL68:
 885              	.L77:
  41:Core/Src/dac_driver.c **** 		break;
 886              		.loc 1 41 3 is_stmt 0 view .LVU219
 887              	.LBE45:
 888              	.LBE50:
  74:Core/Src/dac_driver.c **** 		dac_write(barNumber-8,value,2);	
 889              		.loc 1 74 3 is_stmt 1 view .LVU220
 890 00c2 C0F10300 		rsb	r0, r0, #3
 891              	.LVL69:
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 21


  74:Core/Src/dac_driver.c **** 		dac_write(barNumber-8,value,2);	
 892              		.loc 1 74 3 is_stmt 0 view .LVU221
 893 00c6 0222     		movs	r2, #2
 894              	.LBB51:
 895              	.LBB39:
  76:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
 896              		.loc 1 76 3 view .LVU222
 897 00c8 C0B2     		uxtb	r0, r0
 898              	.LBE39:
 899              	.LBE51:
 900              	.LBE58:
 901              	.LBE64:
 902              		.loc 1 84 1 view .LVU223
 903 00ca 03B0     		add	sp, sp, #12
 904              		.cfi_remember_state
 905              		.cfi_def_cfa_offset 12
 906              		@ sp needed
 907 00cc BDE83040 		pop	{r4, r5, lr}
 908              		.cfi_restore 14
 909              		.cfi_restore 5
 910              		.cfi_restore 4
 911              		.cfi_def_cfa_offset 0
 912              	.LVL70:
 913              	.LBB65:
 914              	.LBB59:
 915              	.LBB52:
 916              	.LBB40:
  76:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
 917              		.loc 1 76 3 view .LVU224
 918 00d0 FFF7FEBF 		b	dac_write
 919              	.LVL71:
 920              	.L67:
 921              		.cfi_restore_state
  76:Core/Src/dac_driver.c **** 		dac_write(barNumber-12,value,3);
 922              		.loc 1 76 3 view .LVU225
 923              	.LBE40:
 924              	.LBE52:
 925              	.LBB53:
 926              	.LBB46:
  37:Core/Src/dac_driver.c **** 		toSend[0]=0b00011000;
 927              		.loc 1 37 3 is_stmt 1 view .LVU226
  37:Core/Src/dac_driver.c **** 		toSend[0]=0b00011000;
 928              		.loc 1 37 12 is_stmt 0 view .LVU227
 929 00d4 1823     		movs	r3, #24
 930 00d6 8DF80430 		strb	r3, [sp, #4]
  38:Core/Src/dac_driver.c **** 		break;
 931              		.loc 1 38 3 is_stmt 1 view .LVU228
 932 00da C6E7     		b	.L69
 933              	.L80:
 934              		.align	2
 935              	.L79:
 936 00dc 00040240 		.word	1073873920
 937 00e0 00000000 		.word	hspi1
 938              	.LBE46:
 939              	.LBE53:
 940              	.LBE59:
 941              	.LBE65:
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 22


 942              		.cfi_endproc
 943              	.LFE218:
 945              		.text
 946              	.Letext0:
 947              		.file 2 "C:/Users/Konrad/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-t
 948              		.file 3 "C:/Users/Konrad/AppData/Roaming/Code/User/globalStorage/bmd.stm32-for-vscode/@xpack-dev-t
 949              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f411xe.h"
 950              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 951              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 952              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 953              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 954              		.file 9 "Core/Inc/spi.h"
ARM GAS  C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s 			page 23


DEFINED SYMBOLS
                            *ABS*:00000000 dac_driver.c
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:19     .text.dac_write:00000000 $t
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:26     .text.dac_write:00000000 dac_write
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:74     .text.dac_write:00000032 $d
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:78     .text.dac_write:00000036 $t
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:162    .text.dac_write:0000009c $d
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:166    .text.dac_write:000000ac $t
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:186    .text.dac_write:000000c8 $d
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:190    .text.dac_write:000000d8 $t
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:210    .text.dac_write:000000f4 $d
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:214    .text.dac_write:00000104 $t
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:234    .text.dac_write:00000124 $d
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:238    .text.dac_write:00000134 $t
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:333    .text.dac_write:0000019c $d
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:340    .text.setBar:00000000 $t
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:347    .text.setBar:00000000 setBar
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:618    .text.setBar:000000d4 $d
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:626    .text.setBarInv:00000000 $t
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:633    .text.setBarInv:00000000 setBarInv
C:\Users\Konrad\AppData\Local\Temp\ccRiZKQd.s:936    .text.setBarInv:000000dc $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_SPI_Transmit
hspi1
